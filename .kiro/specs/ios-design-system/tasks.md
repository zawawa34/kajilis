# Implementation Plan: iOS Design System

## タスク概要

本実装計画は、KajilisiOSアプリケーションのデザインシステムドキュメント（`.kiro/steering/ios-design.md`）を作成するための詳細なタスクリストです。このドキュメントは、AIエージェントが参照してデザインの一貫性を保ちながら実装を行うためのガイドラインとなります。

## 実装タスク

- [ ] 1. デザインシステムドキュメントの基盤を構築する
- [x] 1.1 ドキュメント構造とメタデータを初期化する
  - Markdownドキュメントのファイル構造を作成
  - 目次セクションを定義（10個のメインセクション）
  - バージョン管理セクションを初期化（v1.0.0）
  - 概要セクションでデザイン原則と目的を記述
  - _Requirements: 10.1, 10.2, 10.4_

- [ ] 2. カラーシステムを定義する
- [x] 2.1 ブランドカラーと基本カラーパレットを定義する
  - プライマリ、セカンダリ、アクセントカラーの定義
  - ライトモードとダークモードの両方のカラー値を指定
  - セマンティックな命名規則でカラー名を設定
  - カラーの使用目的と使用例を記述
  - _Requirements: 1.1, 1.2, 1.6_

- [x] 2.2 状態カラーと背景レイヤーを定義する
  - success、warning、error、infoの状態カラーを定義
  - primary、secondary、tertiaryの背景レイヤーを定義
  - 各カラーのライト/ダークモード対応値を指定
  - 状態カラーの使用ガイドラインを記述
  - _Requirements: 1.3, 1.4_

- [x] 2.3 SwiftUI実装ガイドを作成する
  - Assets.xcassetsでのColor Set設定手順を記述
  - SwiftUIでのカラー参照方法のコード例を提供
  - Dynamic Color対応の実装パターンを説明
  - カラーアクセシビリティのベストプラクティスを含める
  - _Requirements: 1.5_

- [ ] 3. タイポグラフィシステムを定義する
- [x] 3.1 テキストスタイル階層を定義する
  - largeTitle、title、title2、title3、headline、body、callout、subheadline、footnote、captionのスタイルを定義
  - 各スタイルのフォントファミリー、サイズ、ウェイト、行間、文字間を明記
  - テキストスタイルの使用目的と適用場面を説明
  - _Requirements: 2.1, 2.2_

- [ ] 3.2 Dynamic Typeとアクセシビリティ対応を定義する
  - Dynamic Typeのサポート方法を記述
  - アクセシビリティサイズへの対応手順を説明
  - 日本語テキストの推奨フォント設定を定義
  - フォントスケーリングのベストプラクティスを含める
  - _Requirements: 2.3, 2.4_

- [ ] 3.3 SwiftUIタイポグラフィ実装ガイドを作成する
  - `.font()` modifierの使用例を提供
  - カスタムフォントの設定方法を説明
  - テキストスタイルのコード例を含める
  - アクセシビリティ対応のコード例を提供
  - _Requirements: 2.5_

- [ ] 4. スペーシングシステムを定義する
- [ ] 4.1 スペーシングスケールを定義する
  - 8ptグリッドベースのスペーシングシステムを採用
  - xxxs、xxs、xs、s、m、l、xl、xxl、xxxlのサイズバリエーションを定義
  - 各スペーシング値の具体的なポイント数を明記
  - スペーシングの使用ガイドラインを記述
  - _Requirements: 3.1, 3.2, 3.3_

- [ ] 4.2 SwiftUIスペーシング実装ガイドを作成する
  - `.padding()` modifierの使用例を提供
  - `.spacing()` modifierの使用例を提供
  - コンポーネント間余白の推奨値を示す
  - レイアウトパターン別のスペーシング例を含める
  - _Requirements: 3.4, 3.5_

- [ ] 5. コンポーネントライブラリを定義する
- [ ] 5.1 ボタンコンポーネントの仕様を定義する
  - primary、secondary、tertiary、destructiveのスタイルバリエーションを定義
  - default、hover、pressed、disabled、loadingの状態を明記
  - ボタンコンポーネントの用途とプロパティを記述
  - SwiftUIコード例とベストプラクティスを提供
  - _Requirements: 4.1, 4.2, 4.3, 4.4, 4.5_

- [ ] 5.2 カードコンポーネントの仕様を定義する
  - カードコンポーネントの用途とバリエーションを記述
  - カードの構成要素（ヘッダー、ボディ、フッター）を定義
  - カードの状態とインタラクションを明記
  - SwiftUIコード例とレイアウトパターンを提供
  - _Requirements: 4.1, 4.2, 4.5_

- [ ] 5.3 入力フィールドとフォームコンポーネントの仕様を定義する
  - テキスト入力、セレクタ、トグル、日付ピッカーなどの入力要素を定義
  - 入力コンポーネントの状態（フォーカス、エラー、無効化）を明記
  - バリデーションとエラー表示のパターンを記述
  - SwiftUIコード例とフォームレイアウトを提供
  - _Requirements: 4.1, 4.2, 4.4, 4.5_

- [ ] 5.4 モーダル、アラート、ナビゲーションバーの仕様を定義する
  - モーダル表示パターンとサイズバリエーションを定義
  - アラートとアクションシートの使用ガイドラインを記述
  - ナビゲーションバーの構成とカスタマイズ方法を明記
  - SwiftUIコード例とインタラクションパターンを提供
  - _Requirements: 4.1, 4.2, 4.5_

- [ ] 5.5 コンポーネント命名規則を定義する
  - PascalCase命名規則を明記（例: PrimaryButton、TaskCard）
  - コンポーネントファイルの命名パターンを定義
  - コンポーネントのプロパティ命名規則を説明
  - _Requirements: 4.6_

- [ ] 6. レイアウトパターンを定義する
- [ ] 6.1 リスト画面とスクロールパターンを定義する
  - リスト画面の構成要素とナビゲーションを定義
  - `ScrollView`、`List`、`LazyVStack`の使い分け基準を提供
  - リストアイテムのレイアウトパターンを記述
  - SwiftUIコード例とベストプラクティスを含める
  - _Requirements: 5.1, 5.2, 5.5_

- [ ] 6.2 詳細画面とフォーム画面のレイアウトを定義する
  - 詳細画面の構成要素と情報表示パターンを定義
  - フォーム画面のレイアウトと入力要素の配置を記述
  - ナビゲーションとアクションボタンの配置を明記
  - SwiftUIコード例とレイアウトテンプレートを提供
  - _Requirements: 5.1, 5.2_

- [ ] 6.3 タブ画面とモーダル画面のレイアウトを定義する
  - タブベースナビゲーションの構成と使用例を定義
  - モーダル表示パターンとサイズ調整方法を記述
  - タブアイコンとラベルのガイドラインを明記
  - SwiftUIコード例とナビゲーションパターンを提供
  - _Requirements: 5.1, 5.2_

- [ ] 6.4 Safe Areaとデバイスサイズ対応を定義する
  - `.safeAreaInset()`と`.ignoresSafeArea()`の使用方針を明記
  - iPhone SEからiPhone Pro Maxまでの対応方法を説明
  - レスポンシブレイアウトのベストプラクティスを記述
  - SwiftUIコード例とデバイス別の調整方法を提供
  - _Requirements: 5.3, 5.4_

- [ ] 7. アイコンシステムを定義する
- [ ] 7.1 SF Symbolsの使用ガイドラインを定義する
  - SF Symbolsを優先的に使用する方針を明記
  - アイコンカテゴリと推奨シンボルのリストを提供
  - アイコンの意味的な使用方法を説明
  - _Requirements: 6.1_

- [ ] 7.2 アイコンサイズとカスタマイズを定義する
  - small (16pt)、medium (24pt)、large (32pt)のサイズバリエーションを定義
  - `.foregroundStyle()` の使用方法を説明
  - アイコンの色とスタイルのカスタマイズ方法を記述
  - SwiftUIコード例とベストプラクティスを提供
  - _Requirements: 6.3, 6.4_

- [ ] 7.3 カスタムアイコンの管理方法を定義する
  - Assets.xcassetsでのSVG管理方法を記述
  - カスタムアイコンの作成ガイドラインを明記
  - アイコンの一貫性を保つためのルールを定義
  - _Requirements: 6.2_

- [ ] 7.4 アイコンとテキストの組み合わせを定義する
  - ボタン内でのアイコンとテキストのスペーシング基準を提供
  - アイコンの配置パターン（左、右、上、下）を説明
  - SwiftUIコード例とレイアウト調整方法を含める
  - _Requirements: 6.5_

- [ ] 8. アニメーションとトランジションを定義する
- [ ] 8.1 アニメーションタイミングとイージングを定義する
  - デフォルトのアニメーション時間（0.3秒など）を明記
  - `.easeInOut`、`.easeIn`、`.easeOut`、`.spring()`の使い分け基準を説明
  - アニメーションの用途別ガイドラインを記述
  - _Requirements: 7.1, 7.2_

- [ ] 8.2 画面遷移とトランジションパターンを定義する
  - `.transition()` の推奨パターンを提供
  - モーダル、プッシュ、タブ切り替えのアニメーションを定義
  - SwiftUIコード例とカスタムトランジションの作成方法を含める
  - _Requirements: 7.3_

- [ ] 8.3 状態変化とインタラクションフィードバックを定義する
  - `.animation()` modifierの使用例を提供
  - タップ時のスケール変化（0.95倍など）の標準的なインタラクションを定義
  - ローディング、成功、エラー時のアニメーションパターンを記述
  - SwiftUIコード例とベストプラクティスを含める
  - _Requirements: 7.4, 7.5_

- [ ] 9. アクセシビリティガイドラインを定義する
- [ ] 9.1 VoiceOver対応の基本方針を定義する
  - VoiceOverサポートの重要性と基本概念を説明
  - `.accessibilityLabel()`の適切な使用方法を明記
  - インタラクティブ要素のアクセシビリティラベル例を提供
  - SwiftUIコード例とベストプラクティスを含める
  - _Requirements: 8.1, 8.2_

- [ ] 9.2 カラーコントラストとビジュアルアクセシビリティを定義する
  - WCAG AA基準（4.5:1以上）のコントラスト比達成方法を説明
  - コントラスト比の計算と検証手順を記述
  - 色覚異常への配慮事項を明記
  - アクセシブルなカラーパレットの選択ガイドラインを提供
  - _Requirements: 8.3_

- [ ] 9.3 Dynamic Typeとタッチターゲットサイズを定義する
  - Dynamic Typeサポートの実装方法を説明
  - `.dynamicTypeSize()`での制約方法を記述
  - 最小タップ領域44x44ptの確保方法を明記
  - インタラクティブ要素のサイズ調整ガイドラインを提供
  - SwiftUIコード例とベストプラクティスを含める
  - _Requirements: 8.4, 8.5_

- [ ] 10. コーディング規約とファイル構成を定義する
- [ ] 10.1 Swift命名規則を定義する
  - View、ViewModel、Model、Serviceの接尾辞ルールを明記
  - PascalCaseとcamelCaseの使い分けを説明
  - プロパティとメソッドの命名ベストプラクティスを記述
  - _Requirements: 9.1_

- [ ] 10.2 ディレクトリ構成とファイル整理を定義する
  - Views/、ViewModels/、Models/、Services/、Components/、Utilities/の推奨構造を定義
  - 再利用可能なコンポーネントの`Components/`ディレクトリ配下での整理方法を説明
  - ファイルの命名規則とグルーピング戦略を記述
  - _Requirements: 9.2, 9.3_

- [ ] 10.3 SwiftUIプレビューと環境設定を定義する
  - `#Preview`マクロの使用標準を定義
  - プレビューのベストプラクティスを記述
  - `.xcconfig`ファイルの管理方法を明記
  - SwiftUIプレビューの実装例を提供
  - _Requirements: 9.4, 9.5_

- [ ] 11. ドキュメントの統合と品質検証を行う
- [ ] 11.1 全セクションの整合性を検証する
  - 目次とセクション構成の一致を確認
  - 内部リンクとトークン参照の整合性を検証
  - コード例の構文チェックを実施
  - _Requirements: 10.2_

- [ ] 11.2 コード例とビジュアル例を追加する
  - 各セクションに実際に動作するSwiftUIコードスニペットを含める
  - 重要なパターンにはビジュアルリファレンス（スクリーンショットまたは図解）を追加
  - コード例の動作確認を実施
  - _Requirements: 10.3, 10.5_

- [ ] 11.3 バージョン管理と変更履歴を整備する
  - バージョン番号（v1.0.0）を設定
  - 変更履歴セクションを初版として記録
  - 今後の更新ルール（メジャー/マイナー/パッチ）を明記
  - _Requirements: 10.4_

- [ ] 11.4 最終レビューとドキュメント公開準備を行う
  - 全要件のカバレッジを確認
  - ドキュメントの読みやすさと構成を検証
  - `.kiro/steering/ios-design.md`への配置を確認
  - AIエージェント参照可能性のテストを実施
  - _Requirements: 10.6, 全要件_

## 実装後のチェックリスト

- [ ] すべての要件（1.1〜10.6）がドキュメントに反映されている
- [ ] SwiftUIコード例がコンパイル可能で動作する
- [ ] アクセシビリティ基準（WCAG AA、44x44ptタップ領域）を満たしている
- [ ] ドキュメントがMarkdown形式で`.kiro/steering/ios-design.md`に配置されている
- [ ] バージョン管理とメタデータが適切に設定されている
